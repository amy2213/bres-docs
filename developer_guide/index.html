<!DOCTYPE html>
<html lang="en" data-bs-theme="light">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../img/favicon.ico">
        <title>Developer Guide - BRES Documentation</title>
        <link href="../css/bootstrap.min.css" rel="stylesheet">
        <link href="../css/fontawesome.min.css" rel="stylesheet">
        <link href="../css/brands.min.css" rel="stylesheet">
        <link href="../css/solid.min.css" rel="stylesheet">
        <link href="../css/v4-font-face.min.css" rel="stylesheet">
        <link href="../css/base.css" rel="stylesheet">
        <link id="hljs-light" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" >
        <link id="hljs-dark" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github-dark.min.css" disabled>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script>hljs.highlightAll();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="..">BRES Documentation</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbar-collapse" aria-controls="navbar-collapse" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="nav-item">
                                <a href=".." class="nav-link">Home</a>
                            </li>
                            <li class="nav-item">
                                <a href="../system_overview/" class="nav-link">System Overview</a>
                            </li>
                            <li class="nav-item">
                                <a href="../phase_assignment/" class="nav-link">Phase Assignment</a>
                            </li>
                            <li class="nav-item">
                                <a href="../feature_extraction/" class="nav-link">Feature Extraction</a>
                            </li>
                            <li class="nav-item">
                                <a href="../classification/" class="nav-link">Classification</a>
                            </li>
                            <li class="nav-item">
                                <a href="../interpretation/" class="nav-link">Interpretation</a>
                            </li>
                            <li class="nav-item">
                                <a href="./" class="nav-link active" aria-current="page">Developer Guide</a>
                            </li>
                            <li class="nav-item">
                                <a href="../use_cases/" class="nav-link">Use Cases</a>
                            </li>
                            <li class="nav-item">
                                <a href="../architecture/" class="nav-link">Architecture</a>
                            </li>
                            <li class="nav-item">
                                <a href="../workflow_examples/" class="nav-link">Workflow Examples</a>
                            </li>
                            <li class="nav-item">
                                <a href="../references/" class="nav-link">References</a>
                            </li>
                            <li class="nav-item">
                                <a href="../ritual_classifier/" class="nav-link">Ritual Classifier</a>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ms-md-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-bs-toggle="modal" data-bs-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href="../interpretation/" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../use_cases/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-bs-toggle="collapse" data-bs-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-body-tertiary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-bs-level="1"><a href="#developer-implementation-guide" class="nav-link">Developer Implementation Guide</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            
            <li class="nav-item" data-bs-level="1"><a href="#developer-implementation-guide-bres-binary-ritual-encoding-system" class="nav-link">Developer Implementation Guide – BRES (Binary Ritual Encoding System)</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="2"><a href="#overview" class="nav-link">Overview</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#project-structure" class="nav-link">Project Structure</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#phase-assignment" class="nav-link">Phase Assignment</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#feature-extraction" class="nav-link">Feature Extraction</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#classifier-training" class="nav-link">Classifier Training</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#interpretation-pipeline" class="nav-link">Interpretation Pipeline</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#spatial-mapping-optional" class="nav-link">Spatial Mapping (Optional)</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#tools-libraries" class="nav-link">Tools &amp; Libraries</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#cliweb-integration" class="nav-link">CLI/Web Integration</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#artifact-input-formats" class="nav-link">Artifact Input Formats</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#rebuilding-workflow" class="nav-link">Rebuilding Workflow</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="developer-implementation-guide">Developer Implementation Guide</h1>
<h1 id="developer-implementation-guide-bres-binary-ritual-encoding-system">Developer Implementation Guide – BRES (Binary Ritual Encoding System)</h1>
<h2 id="overview">Overview</h2>
<p>This document describes how to implement the BRES system, including data ingestion, phase assignment, feature extraction, classification, and interpretive outputs. The goal is to help developers rebuild or extend BRES as a symbolic classifier and interpreter for ritual artifacts.</p>
<hr />
<h2 id="project-structure">Project Structure</h2>
<pre><code>bres/
├── data/                  # Artifact glyph sequences (real + synthetic)
├── features/              # Feature extraction scripts
├── model/                 # Classifier training and subtype clustering
├── interpret/             # Ritual logic, segmentation, narratives
├── output/                # Markdown or PDF exports
└── interface/             # CLI or Web interface (optional)
</code></pre>
<hr />
<h2 id="phase-assignment">Phase Assignment</h2>
<h3 id="file-phase_mappy">File: <code>phase_map.py</code></h3>
<ul>
<li>Maps each <code>Glyph ID</code> to a BRES Phase (A, T, P, N)</li>
<li>Supports:</li>
<li><strong>Fixed map</strong>: <code>id_to_phase = {1: 'A', 2: 'T', ...}</code></li>
<li><strong>Probabilistic map</strong>:
    <code>python
    phase_probs = {
      1: {"A": 0.8, "T": 0.2},
      4: {"T": 0.9, "N": 0.1}
    }</code></li>
</ul>
<hr />
<h2 id="feature-extraction">Feature Extraction</h2>
<h3 id="file-featuresextract_bres_featurespy">File: <code>features/extract_bres_features.py</code></h3>
<p>Main method:</p>
<pre><code class="language-python">def extract_bres_features(seq: str) -&gt; dict:
</code></pre>
<p>Outputs:
- Phase counts, transition matrix
- Entropy (Shannon)
- Motif frequencies (PTAN, ATAAN, etc.)
- Spatial tags (if provided)
- Used for both training and classification</p>
<hr />
<h2 id="classifier-training">Classifier Training</h2>
<h3 id="file-modeltrain_classifierpy">File: <code>model/train_classifier.py</code></h3>
<ul>
<li>Uses <code>sklearn.tree.DecisionTreeClassifier</code>:
  <code>python
  clf = DecisionTreeClassifier(max_depth=4)
  clf.fit(X_train, y_train)</code></li>
<li>Outputs <code>Type</code>: A, B, C, D</li>
</ul>
<h3 id="subtype-clustering">Subtype Clustering:</h3>
<ul>
<li>KMeans clustering of normalized feature space</li>
<li>2–3 subtypes per type (manual labeling)</li>
</ul>
<hr />
<h2 id="interpretation-pipeline">Interpretation Pipeline</h2>
<h3 id="file-interpretgenerate_narrativepy">File: <code>interpret/generate_narrative.py</code></h3>
<p>Steps after classification:
1. <strong>Segment phase stream</strong> by closure or motifs
2. <strong>Theme assignment</strong> by segment profile
3. <strong>Narrative generation</strong> using cultural ontology
4. Optional: Generate spiral/radial timeline charts</p>
<hr />
<h2 id="spatial-mapping-optional">Spatial Mapping (Optional)</h2>
<h3 id="file-featuresspatial_taggingpy">File: <code>features/spatial_tagging.py</code></h3>
<ul>
<li>Tracks glyph index in:</li>
<li>Sector</li>
<li>Spiral or radial layout</li>
<li>Bins glyphs into bands (e.g., “Outer”, “Center”)</li>
<li>Used to analyze closure clustering or phase flow by depth</li>
</ul>
<hr />
<h2 id="tools-libraries">Tools &amp; Libraries</h2>
<ul>
<li><code>pandas</code>, <code>numpy</code>: Data processing</li>
<li><code>scikit-learn</code>: Classifier + clustering</li>
<li><code>matplotlib</code>: Visualization</li>
<li><code>markdown2</code>, <code>pdfkit</code> (optional): Export formatting</li>
<li><code>streamlit</code> or <code>click</code>: Web/CLI interface</li>
</ul>
<hr />
<h2 id="cliweb-integration">CLI/Web Integration</h2>
<p>Optional front-end with:</p>
<pre><code class="language-bash">$ bres analyze glyph_sequence.txt
$ bres interpret --artifact phaistos_disc
$ bres export --format pdf
</code></pre>
<p>Or use a <code>Streamlit</code> dashboard for upload + export + visualization.</p>
<hr />
<h2 id="artifact-input-formats">Artifact Input Formats</h2>
<ul>
<li>Glyphs as ID stream: <code>[1, 3, 5, 2, 4]</code></li>
<li>Sectored format (dict): <code>{A1: [1,2], A2: [3,4,5], ...}</code></li>
<li>Optional: glyph spatial metadata (sector ID, spiral pos, glyph-in-sector)</li>
</ul>
<hr />
<h2 id="rebuilding-workflow">Rebuilding Workflow</h2>
<ol>
<li>Create glyph → phase mapping</li>
<li>Load artifact (glyph list or sector map)</li>
<li>Encode full phase stream</li>
<li>Extract features</li>
<li>Classify: Type + Subtype</li>
<li>Interpret: Segment + Ritual Role</li>
<li>Export results</li>
</ol>
<hr />
<p>This guide should enable any developer to rebuild the BRES pipeline or extend it into their own symbolic artifact decoding system.</p></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script src="../js/bootstrap.bundle.min.js"></script>
        <script>
            var base_url = "..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../js/base.js"></script>
        <script src="../search/main.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
